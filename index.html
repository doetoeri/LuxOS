<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LuxOS* Emulator</title>
    <style>
        body {
            background-color: black;
            color: green;
            font-family: monospace;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            height: 100vh;
        }
        #terminal {
            flex: 1;
            overflow-y: auto;
            padding: 10px;
            white-space: pre-wrap;
            outline: none;
            caret-color: green;
        }
    </style>
</head>
<body>
    <div id="terminal" contenteditable="true" spellcheck="false">
        Welcome to LuxOS* Emulator  
        Type 'help' for a list of commands.  
        >
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const terminal = document.getElementById('terminal');

            const commands = {
                help: () => "Available commands:\nhelp: Show this help message\nls: List files\nreadmodule: Insert HyperDisk 1.0 to read a module\nread <file>: Read file content",
                ls: () => "No files found.",
                read: (fileName) => `Reading file: ${fileName} (Feature not implemented yet)`,
                readmodule: () => "HyperDisk 1.0 functionality activated (File upload simulation starts).",
            };

            terminal.addEventListener('keydown', (e) => {
                if (e.key === 'Enter') {
                    e.preventDefault();
                    const input = terminal.textContent.split('\n').pop().trim();
                    const [command, ...args] = input.replace('>', '').trim().split(' ');

                    let output = commands[command] ? commands[command](...args) : `Unknown command: ${command}`;
                    if (command === "readmodule") {
                        const fileInput = document.createElement('input');
                        fileInput.type = 'file';
                        fileInput.style.display = 'none';
                        fileInput.onchange = (event) => {
                            const file = event.target.files[0];
                            output = file ? `File '${file.name}' uploaded successfully.` : "No file selected.";
                            terminal.textContent += `\n${output}\n>`;
                        };
                        document.body.appendChild(fileInput);
                        fileInput.click();
                        document.body.removeChild(fileInput);
                        return;
                    }
                    terminal.textContent += `\n${output}\n>`;
                    terminal.scrollTop = terminal.scrollHeight;
                }
            });
        });
    </script>
</body>
</html>
